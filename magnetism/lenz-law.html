<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lenz's Law Demonstration</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: #000000;
            color: white;
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
            border: 1px solid #333;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            color: #ffab00;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
            color: #ccc;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 1100px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        .left-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .panel {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5);
            border: 1px solid #333;
        }
        
        .panel h2 {
            margin-bottom: 15px;
            font-size: 1.5rem;
            border-bottom: 2px solid #ffab00;
            padding-bottom: 8px;
            color: #ffab00;
        }
        
        .simulation-container {
            height: 600px;
            position: relative;
            background: #000000;
            border-radius: 15px;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px solid #333;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5);
        }
        
        #simulation-canvas {
            display: block;
            background: #000000;
        }
        
        .controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        label {
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            color: #fff;
        }
        
        .value-display {
            font-weight: normal;
            opacity: 0.9;
            color: #ffab00;
        }
        
        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #333;
            outline: none;
            -webkit-appearance: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #ffab00;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            border: 2px solid #000;
        }
        
        .buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            background: #ffab00;
            color: #000;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
            border: 1px solid #333;
        }
        
        button:hover {
            background: #ffc400;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.7);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        button:disabled {
            background: #444;
            color: #666;
            cursor: not-allowed;
            transform: none;
        }
        
        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .stat-item {
            background: rgba(30, 30, 30, 0.8);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #333;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            margin: 10px 0;
            color: #ffab00;
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
            color: #ccc;
        }
        
        .explanation {
            margin-top: 20px;
        }
        
        .explanation-content {
            line-height: 1.6;
            color: #ccc;
        }
        
        .explanation-content p {
            margin-bottom: 15px;
        }
        
        .law-statement {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 171, 0, 0.1);
            border-radius: 10px;
            border-left: 4px solid #ffab00;
            border: 1px solid #333;
        }
        
        .law-statement h3 {
            margin-bottom: 10px;
            color: #ffab00;
        }
        
        .comparison {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            padding: 15px;
            background: rgba(30, 30, 30, 0.8);
            border-radius: 10px;
            border: 1px solid #333;
        }
        
        .comparison-item {
            text-align: center;
            flex: 1;
        }
        
        .comparison-value {
            font-size: 1.5rem;
            font-weight: bold;
            margin: 10px 0;
            color: #ffab00;
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            opacity: 0.8;
            font-size: 0.9rem;
            color: #666;
        }
        
        .experiment-info {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.85);
            padding: 15px;
            border-radius: 10px;
            font-size: 0.9rem;
            max-width: 300px;
            border: 1px solid #333;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
        }
        
        .experiment-info h3 {
            color: #ffab00;
            margin-bottom: 10px;
        }
        
        .experiment-info p {
            color: #ccc;
            margin-bottom: 8px;
            font-size: 0.85rem;
        }
        
        .current-indicator {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.85);
            padding: 15px;
            border-radius: 10px;
            font-size: 0.9rem;
            max-width: 250px;
            border: 1px solid #333;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
        }

        .current-indicator h3 {
            color: #ffab00;
            margin-bottom: 10px;
        }

        .visualization {
            margin-top: 20px;
            padding: 15px;
            background: rgba(30, 30, 30, 0.8);
            border-radius: 10px;
            border: 1px solid #333;
        }

        .field-display {
            height: 120px;
            background: #000;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            margin-top: 10px;
            border: 1px solid #333;
        }

        .field-line {
            position: absolute;
            height: 2px;
            background: rgba(0, 150, 255, 0.8);
            transform-origin: left center;
        }

        #current-status {
            color: #ffab00;
            font-weight: 600;
            padding: 10px;
            background: rgba(30, 30, 30, 0.8);
            border-radius: 5px;
            border: 1px solid #333;
        }

        #canvas-current-status {
            color: #ffab00;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Lenz's Law Demonstration</h1>
            <p class="subtitle">Watch how a falling magnet slows down dramatically when passing through a copper tube due to induced eddy currents that oppose the motion.</p>
        </header>
        
        <div class="main-content">
            <div class="left-panel">
                <div class="panel controls">
                    <h2>Controls</h2>
                    
                    <div class="control-group">
                        <label>
                            Magnet Strength
                            <span class="value-display" id="strength-value">Medium</span>
                        </label>
                        <input type="range" id="strength-slider" min="1" max="3" value="2" step="1">
                    </div>
                    
                    <div class="control-group">
                        <label>
                            Tube Material
                            <span class="value-display" id="material-value">Copper</span>
                        </label>
                        <input type="range" id="material-slider" min="1" max="3" value="2" step="1">
                    </div>
                    
                    <div class="control-group">
                        <label>
                            Tube Length
                            <span class="value-display" id="length-value">Medium</span>
                        </label>
                        <input type="range" id="length-slider" min="1" max="3" value="2" step="1">
                    </div>
                    
                    <div class="buttons">
                        <button id="drop-btn">Drop Magnet</button>
                        <button id="reset-btn">Reset</button>
                    </div>
                    
                    <div class="comparison">
                        <div class="comparison-item">
                            <div>Free Fall Time</div>
                            <div class="comparison-value">~0.45s</div>
                        </div>
                        <div class="comparison-item">
                            <div>Through Tube</div>
                            <div class="comparison-value" id="fall-time">0.00s</div>
                        </div>
                    </div>
                </div>
                
                <div class="panel stats">
                    <h2>Live Data</h2>
                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-label">Magnet Position</div>
                            <div class="stat-value" id="position-value">Top</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Fall Speed</div>
                            <div class="stat-value" id="speed-value">0 m/s</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Drag Force</div>
                            <div class="stat-value" id="drag-value">None</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Time in Tube</div>
                            <div class="stat-value" id="tube-time">0.00s</div>
                        </div>
                    </div>
                </div>

                <div class="panel visualization">
                    <h2>Current Status</h2>
                    <div id="current-status">No current induced</div>
                    <div class="field-display" id="field-display">
                        <!-- Magnetic field lines will be drawn here -->
                    </div>
                </div>
            </div>
            
            <div class="panel simulation-container">
                <canvas id="simulation-canvas" width="800" height="600"></canvas>
                
                <div class="experiment-info">
                    <h3>Experiment Setup</h3>
                    <p>• Magnet is dropped through a conductive tube</p>
                    <p>• Changing magnetic field induces eddy currents</p>
                    <p>• Currents create opposing magnetic field</p>
                    <p>• Magnet falls slowly due to magnetic drag</p>
                </div>
                
                <div class="current-indicator">
                    <h3>Eddy Current Status</h3>
                    <p id="canvas-current-status">No current induced</p>
                </div>
            </div>
        </div>

        <div class="panel explanation">
            <h2>Lenz's Law Explained</h2>
            <div class="explanation-content">
                <p>When a magnet falls through a conductive tube, its motion creates a changing magnetic field inside the tube. According to Faraday's Law, this changing magnetic field induces electric currents (eddy currents) in the conductor.</p>
                
                <div class="law-statement">
                    <h3>Lenz's Law:</h3>
                    <p><em>"The direction of the induced current is such that it opposes the change that produced it."</em></p>
                </div>
                
                <p>The induced eddy currents create their own magnetic field that opposes the magnet's motion. This magnetic drag force slows down the magnet's fall dramatically compared to free fall through air or a non-conductive tube.</p>
                
                <p><strong>Key factors affecting the drag force:</strong></p>
                <ul>
                    <li><strong>Conductivity:</strong> Better conductors (copper, aluminum) create stronger eddy currents</li>
                    <li><strong>Magnet strength:</strong> Stronger magnets induce stronger currents</li>
                    <li><strong>Tube thickness:</strong> Thicker conductive material allows more current flow</li>
                </ul>
            </div>
        </div>
        
        <footer>
            <p>Lenz's Law Demonstration | Electromagnetic Induction Simulation</p>
        </footer>
    </div>

    <script>
        // Simulation variables
        let canvas, ctx;
        let animationId = null;
        
        // Physics constants
        const GRAVITY = 9.8;
        const PIXELS_PER_METER = 100;
        
        // Simulation objects
        let magnet = {
            x: 400,
            y: 100,
            width: 40,
            height: 80,
            velocity: 0,
            acceleration: 0,
            isFalling: false,
            startY: 100,
            northColor: '#ff5252',
            southColor: '#2196f3'
        };
        
        let tube = {
            x: 350,
            y: 200,
            width: 100,
            height: 300,
            thickness: 15,
            material: 'copper'
        };
        
        // Configuration
        let config = {
            magnetStrength: 2,
            tubeMaterial: 2,
            tubeLength: 2,
            startTime: 0,
            tubeEntryTime: 0,
            tubeExitTime: 0
        };
        
        // DOM elements
        const dropBtn = document.getElementById('drop-btn');
        const resetBtn = document.getElementById('reset-btn');
        const strengthSlider = document.getElementById('strength-slider');
        const strengthValue = document.getElementById('strength-value');
        const materialSlider = document.getElementById('material-slider');
        const materialValue = document.getElementById('material-value');
        const lengthSlider = document.getElementById('length-slider');
        const lengthValue = document.getElementById('length-value');
        
        const positionValue = document.getElementById('position-value');
        const speedValue = document.getElementById('speed-value');
        const dragValue = document.getElementById('drag-value');
        const tubeTime = document.getElementById('tube-time');
        const fallTime = document.getElementById('fall-time');
        const currentStatus = document.getElementById('current-status');
        const canvasCurrentStatus = document.getElementById('canvas-current-status');
        const fieldDisplay = document.getElementById('field-display');

        // Initialize simulation
        function init() {
            canvas = document.getElementById('simulation-canvas');
            ctx = canvas.getContext('2d');
            
            // Set up event listeners
            setupEventListeners();
            
            // Start animation loop
            animate();
            
            // Initial draw
            draw();
        }
        
        // Set up event listeners
        function setupEventListeners() {
            dropBtn.addEventListener('click', dropMagnet);
            resetBtn.addEventListener('click', resetSimulation);
            
            strengthSlider.addEventListener('input', updateStrength);
            materialSlider.addEventListener('input', updateMaterial);
            lengthSlider.addEventListener('input', updateLength);
        }
        
        // Update magnet strength
        function updateStrength() {
            config.magnetStrength = parseInt(strengthSlider.value);
            const strengths = ['Weak', 'Medium', 'Strong'];
            strengthValue.textContent = strengths[config.magnetStrength - 1];
        }
        
        // Update tube material
        function updateMaterial() {
            config.tubeMaterial = parseInt(materialSlider.value);
            const materials = ['Plastic', 'Copper', 'Aluminum'];
            materialValue.textContent = materials[config.tubeMaterial - 1];
            
            // Update tube material property
            const materialTypes = ['plastic', 'copper', 'aluminum'];
            tube.material = materialTypes[config.tubeMaterial - 1];
        }
        
        // Update tube length
        function updateLength() {
            config.tubeLength = parseInt(lengthSlider.value);
            const lengths = ['Short', 'Medium', 'Long'];
            lengthValue.textContent = lengths[config.tubeLength - 1];
            
            // Update tube height
            tube.height = 200 + (config.tubeLength - 1) * 100;
        }
        
        // Start magnet drop
        function dropMagnet() {
            if (magnet.isFalling) return;
            
            magnet.isFalling = true;
            magnet.velocity = 0;
            magnet.acceleration = GRAVITY;
            magnet.y = magnet.startY;
            config.startTime = Date.now();
            config.tubeEntryTime = 0;
            config.tubeExitTime = 0;
            
            dropBtn.disabled = true;
            dropBtn.textContent = 'Falling...';
        }
        
        // Reset simulation
        function resetSimulation() {
            magnet.isFalling = false;
            magnet.velocity = 0;
            magnet.acceleration = 0;
            magnet.y = magnet.startY;
            
            dropBtn.disabled = false;
            dropBtn.textContent = 'Drop Magnet';
            
            updateDisplays();
            updateFieldDisplay(false);
        }
        
        // Update physics
        function updatePhysics() {
            if (!magnet.isFalling) return;
            
            const deltaTime = 0.016; // ~60fps
            
            // Calculate drag force based on Lenz's Law
            let dragForce = 0;
            let isInTube = false;
            let hasCurrent = false;
            
            // Check if magnet is inside the tube
            if (magnet.y + magnet.height/2 > tube.y && magnet.y - magnet.height/2 < tube.y + tube.height) {
                isInTube = true;
                
                // Record tube entry time
                if (config.tubeEntryTime === 0) {
                    config.tubeEntryTime = Date.now();
                }
                
                // Calculate drag force (only for conductive materials)
                if (tube.material !== 'plastic') {
                    hasCurrent = true;
                    // Drag depends on material conductivity and magnet strength
                    const conductivity = tube.material === 'copper' ? 1.0 : 0.7;
                    dragForce = config.magnetStrength * conductivity * 8;
                    
                    // Also depends on velocity (higher velocity = more drag)
                    dragForce += Math.abs(magnet.velocity) * 2;
                }
            } else if (magnet.y - magnet.height/2 > tube.y + tube.height && config.tubeExitTime === 0) {
                // Magnet has exited the tube
                config.tubeExitTime = Date.now();
                
                // Calculate and display fall time
                const totalTime = (config.tubeExitTime - config.startTime) / 1000;
                fallTime.textContent = totalTime.toFixed(2) + 's';
            }
            
            // Update acceleration (gravity minus drag)
            magnet.acceleration = GRAVITY - dragForce;
            
            // Update velocity and position
            magnet.velocity += magnet.acceleration * deltaTime;
            magnet.y += magnet.velocity * PIXELS_PER_METER * deltaTime;
            
            // Check if magnet has hit the bottom
            if (magnet.y > canvas.height - 50) {
                magnet.isFalling = false;
                dropBtn.disabled = false;
                dropBtn.textContent = 'Drop Magnet';
                
                // If magnet exited without recording time (edge case)
                if (config.tubeExitTime === 0) {
                    config.tubeExitTime = Date.now();
                    const totalTime = (config.tubeExitTime - config.startTime) / 1000;
                    fallTime.textContent = totalTime.toFixed(2) + 's';
                }
            }
            
            updateDisplays(isInTube, dragForce, hasCurrent);
            updateFieldDisplay(hasCurrent);
        }
        
        // Update information displays
        function updateDisplays(isInTube, dragForce, hasCurrent) {
            // Position
            if (magnet.y < tube.y) {
                positionValue.textContent = 'Above Tube';
            } else if (magnet.y > tube.y + tube.height) {
                positionValue.textContent = 'Below Tube';
            } else {
                positionValue.textContent = 'Inside Tube';
            }
            
            // Speed
            speedValue.textContent = Math.abs(magnet.velocity).toFixed(1) + ' m/s';
            
            // Drag force
            if (dragForce > 0) {
                dragValue.textContent = 'Strong';
                currentStatus.textContent = 'Eddy currents creating magnetic drag';
                canvasCurrentStatus.textContent = 'Eddy currents creating magnetic drag';
            } else if (isInTube) {
                dragValue.textContent = 'None';
                currentStatus.textContent = 'No currents (non-conductive tube)';
                canvasCurrentStatus.textContent = 'No currents (non-conductive tube)';
            } else {
                dragValue.textContent = 'None';
                currentStatus.textContent = 'No current induced';
                canvasCurrentStatus.textContent = 'No current induced';
            }
            
            // Time in tube
            if (config.tubeEntryTime > 0 && config.tubeExitTime === 0) {
                const timeInTube = (Date.now() - config.tubeEntryTime) / 1000;
                tubeTime.textContent = timeInTube.toFixed(2) + 's';
            }
        }

        // Update magnetic field visualization
        function updateFieldDisplay(hasCurrent) {
            fieldDisplay.innerHTML = '';
            
            if (hasCurrent) {
                // Create magnetic field lines
                for (let i = 0; i < 12; i++) {
                    const angle = (i / 12) * Math.PI * 2;
                    const line = document.createElement('div');
                    line.className = 'field-line';
                    
                    const length = 80;
                    const centerX = 150;
                    const centerY = 60;
                    
                    line.style.width = `${length}px`;
                    line.style.left = `${centerX}px`;
                    line.style.top = `${centerY}px`;
                    line.style.transform = `rotate(${angle * 180 / Math.PI}deg)`;
                    
                    fieldDisplay.appendChild(line);
                }
            } else {
                // Show no field lines
                const noField = document.createElement('div');
                noField.textContent = 'No magnetic field detected';
                noField.style.textAlign = 'center';
                noField.style.paddingTop = '50px';
                noField.style.opacity = '0.7';
                noField.style.color = '#666';
                fieldDisplay.appendChild(noField);
            }
        }
        
        // Draw everything
        function draw() {
            // Clear canvas with black background
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw tube
            drawTube();
            
            // Draw magnet
            drawMagnet();
            
            // Draw magnetic field when in conductive tube
            if (magnet.isFalling && 
                magnet.y + magnet.height/2 > tube.y && 
                magnet.y - magnet.height/2 < tube.y + tube.height &&
                tube.material !== 'plastic') {
                drawMagneticField();
            }
            
            // Draw labels
            drawLabels();
        }
        
        // Draw the tube
        function drawTube() {
            // Tube color based on material
            let tubeColor;
            switch(tube.material) {
                case 'plastic':
                    tubeColor = '#555';
                    break;
                case 'copper':
                    tubeColor = '#b87333';
                    break;
                case 'aluminum':
                    tubeColor = '#a8a8a8';
                    break;
            }
            
            // Draw tube outer
            ctx.fillStyle = tubeColor;
            ctx.fillRect(tube.x, tube.y, tube.width, tube.height);
            
            // Draw tube inner (hole)
            ctx.fillStyle = '#000';
            const innerX = tube.x + tube.thickness;
            const innerY = tube.y;
            const innerWidth = tube.width - tube.thickness * 2;
            const innerHeight = tube.height;
            ctx.fillRect(innerX, innerY, innerWidth, innerHeight);
            
            // Add metallic shine for conductive materials
            if (tube.material !== 'plastic') {
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
                ctx.lineWidth = 2;
                ctx.strokeRect(tube.x, tube.y, tube.width, tube.height);
            }
            
            // Draw tube label
            ctx.fillStyle = '#ffab00';
            ctx.font = '16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(tube.material.charAt(0).toUpperCase() + tube.material.slice(1) + ' Tube', 
                        tube.x + tube.width/2, tube.y - 10);
        }
        
        // Draw the magnet
        function drawMagnet() {
            const magnetTop = magnet.y - magnet.height/2;
            const magnetBottom = magnet.y + magnet.height/2;
            
            // Magnet body
            ctx.fillStyle = '#333';
            ctx.fillRect(
                magnet.x - magnet.width/2,
                magnetTop,
                magnet.width,
                magnet.height
            );
            
            // North pole (red)
            ctx.fillStyle = magnet.northColor;
            ctx.fillRect(
                magnet.x - magnet.width/2,
                magnetTop,
                magnet.width,
                magnet.height/2
            );
            
            // South pole (blue)
            ctx.fillStyle = magnet.southColor;
            ctx.fillRect(
                magnet.x - magnet.width/2,
                magnetTop + magnet.height/2,
                magnet.width,
                magnet.height/2
            );
            
            // Add labels
            ctx.fillStyle = 'white';
            ctx.font = 'bold 14px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('N', magnet.x, magnetTop + magnet.height/4);
            ctx.fillText('S', magnet.x, magnetBottom - magnet.height/4);
            
            // Add outline
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 2;
            ctx.strokeRect(
                magnet.x - magnet.width/2,
                magnetTop,
                magnet.width,
                magnet.height
            );
        }
        
        // Draw magnetic field visualization
        function drawMagneticField() {
            ctx.strokeStyle = 'rgba(0, 150, 255, 0.8)';
            ctx.lineWidth = 1;
            ctx.setLineDash([5, 5]);
            
            // Draw field lines around magnet
            const numLines = 12;
            for (let i = 0; i < numLines; i++) {
                const angle = (i / numLines) * Math.PI * 2;
                const startX = magnet.x + Math.cos(angle) * magnet.width/2;
                const startY = magnet.y + Math.sin(angle) * magnet.width/2;
                
                const endX = magnet.x + Math.cos(angle) * (magnet.width/2 + 60);
                const endY = magnet.y + Math.sin(angle) * (magnet.width/2 + 60);
                
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.stroke();
            }
            
            ctx.setLineDash([]);
        }
        
        // Draw labels and information
        function drawLabels() {
            ctx.fillStyle = '#ffab00';
            ctx.font = '16px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'top';
            
            // Title
            ctx.fillText('Lenz\'s Law Demonstration', canvas.width/2, 20);
            
            // Instructions
            if (!magnet.isFalling) {
                ctx.font = '14px Arial';
                ctx.fillStyle = '#ccc';
                ctx.fillText('Click "Drop Magnet" to start the experiment', canvas.width/2, 50);
            }
        }
        
        // Main animation loop
        function animate() {
            updatePhysics();
            draw();
            animationId = requestAnimationFrame(animate);
        }
        
        // Initialize when page loads
        window.addEventListener('load', init);
    </script>
</body>
</html>